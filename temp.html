<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {
    box-sizing: border-box;  /* Include margin, padding and border in box sizes */
  }
#hourglassDiv {
	box-sizing: content-box;
	display: table-cell;
	text-align: center;
	vertical-align: middle;
}
</style>
</head>
<body>

<h2>Timer</h2>
<div id="hourglassDiv">
	<div id="hourglassText">	</div>
</div>

</body>

<script>
var timer = setInterval(function () {update(50);}, 1000);

function update(deltaTime) {
	let hourglassSize = 50;  // Half the width of the hourglass in px
	let borderSize = 0;

	elem = document.getElementById('hourglassDiv');
	text = document.getElementById('hourglassText');

	if (typeof update.counter == 'undefined') {
		update.counter = 0;
	}

	if (update.counter < 100) {
		update.counter += 100 / deltaTime;
		w = Math.trunc(update.counter / 2) - Math.trunc(update.counter / 2)%2;
		borderSize = hourglassSize - w + 2;  // Plus 2 for last border

		elem.style.width = Math.trunc(2 * w)  + 'px';
		elem.style.height = Math.trunc(2 * w) + 'px';
		// elem.style.width = hourglassSize + 'px';
		// elem.style.height = hourglassSize + 'px';
		elem.style.borderLeft = borderSize + 'px solid rgba(154, 219, 240, 0.6)';
		elem.style.borderRight = borderSize + 'px solid rgba(154, 219, 240, 0.6)';
		elem.style.borderTop = borderSize + 'px solid rgba(154, 219, 240, 1.0)';
		elem.style.borderBottom = borderSize + 'px solid rgba(154, 219, 240, 1.0)';
		text.innerHTML = Math.trunc(update.counter) + '%';
		text.style.color = 'rgba(4, 177, 217, 1.0)'
		text.style.fontSize = Math.trunc(update.counter / 4) + 'px';
		text.style.opacity = Math.trunc(update.counter / 2 + 35) + '%';
	} else {
		clearInterval(timer);
		update.counter = 0
	}
}
</script>
</html>
